{
	"id": "7ced6550-7cfb-4e25-8b4f-b24076c18bc9",
	"prevId": "00000000-0000-0000-0000-000000000000",
	"version": "7",
	"dialect": "postgresql",
	"tables": {
		"public.contexts": {
			"name": "contexts",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"project_id": {
					"name": "project_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"name": {
					"name": "name",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"context_type": {
					"name": "context_type",
					"type": "context_type",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true
				},
				"page_config_mode": {
					"name": "page_config_mode",
					"type": "page_config_mode",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true
				},
				"page_number": {
					"name": "page_number",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"page_range": {
					"name": "page_range",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"every_other": {
					"name": "every_other",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"start_page": {
					"name": "start_page",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"bbox": {
					"name": "bbox",
					"type": "json",
					"primaryKey": false,
					"notNull": false
				},
				"color": {
					"name": "color",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"visible": {
					"name": "visible",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": true
				},
				"except_pages": {
					"name": "except_pages",
					"type": "integer[]",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"deleted_at": {
					"name": "deleted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"contexts_project_id_projects_id_fk": {
					"name": "contexts_project_id_projects_id_fk",
					"tableFrom": "contexts",
					"tableTo": "projects",
					"columnsFrom": ["project_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"contexts_project_access": {
					"name": "contexts_project_access",
					"as": "PERMISSIVE",
					"for": "ALL",
					"to": ["authenticated"],
					"using": "EXISTS (\n\t\t\t\tSELECT 1 FROM projects\n\t\t\t\tWHERE projects.id = \"contexts\".\"project_id\"\n\t\t\t)"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.document_pages": {
			"name": "document_pages",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"document_id": {
					"name": "document_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"page_number": {
					"name": "page_number",
					"type": "integer",
					"primaryKey": false,
					"notNull": true
				},
				"text_content": {
					"name": "text_content",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"metadata": {
					"name": "metadata",
					"type": "json",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"unique_document_page": {
					"name": "unique_document_page",
					"columns": [
						{
							"expression": "document_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "page_number",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"document_pages_document_id_source_documents_id_fk": {
					"name": "document_pages_document_id_source_documents_id_fk",
					"tableFrom": "document_pages",
					"tableTo": "source_documents",
					"columnsFrom": ["document_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"document_pages_document_access": {
					"name": "document_pages_document_access",
					"as": "PERMISSIVE",
					"for": "ALL",
					"to": ["authenticated"],
					"using": "EXISTS (\n\t\t\t\tSELECT 1 FROM source_documents\n\t\t\t\tWHERE source_documents.id = \"document_pages\".\"document_id\"\n\t\t\t)"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.source_documents": {
			"name": "source_documents",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"project_id": {
					"name": "project_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"title": {
					"name": "title",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"file_name": {
					"name": "file_name",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"file_size": {
					"name": "file_size",
					"type": "bigint",
					"primaryKey": false,
					"notNull": false
				},
				"content_hash": {
					"name": "content_hash",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"page_count": {
					"name": "page_count",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"storage_key": {
					"name": "storage_key",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"status": {
					"name": "status",
					"type": "source_document_status",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true,
					"default": "'uploaded'"
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"processed_at": {
					"name": "processed_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"deleted_at": {
					"name": "deleted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"source_documents_project_id_projects_id_fk": {
					"name": "source_documents_project_id_projects_id_fk",
					"tableFrom": "source_documents",
					"tableTo": "projects",
					"columnsFrom": ["project_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"source_documents_project_access": {
					"name": "source_documents_project_access",
					"as": "PERMISSIVE",
					"for": "ALL",
					"to": ["authenticated"],
					"using": "EXISTS (\n\t\t\t\tSELECT 1 FROM projects\n\t\t\t\tWHERE projects.id = \"source_documents\".\"project_id\"\n\t\t\t)"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.events": {
			"name": "events",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"type": {
					"name": "type",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"project_id": {
					"name": "project_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": false
				},
				"user_id": {
					"name": "user_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": false
				},
				"entity_type": {
					"name": "entity_type",
					"type": "entity_type",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": false
				},
				"entity_id": {
					"name": "entity_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": false
				},
				"metadata": {
					"name": "metadata",
					"type": "json",
					"primaryKey": false,
					"notNull": false
				},
				"request_id": {
					"name": "request_id",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {},
			"foreignKeys": {
				"events_project_id_projects_id_fk": {
					"name": "events_project_id_projects_id_fk",
					"tableFrom": "events",
					"tableTo": "projects",
					"columnsFrom": ["project_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				},
				"events_user_id_users_id_fk": {
					"name": "events_user_id_users_id_fk",
					"tableFrom": "events",
					"tableTo": "users",
					"columnsFrom": ["user_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"events_user_or_project_access": {
					"name": "events_user_or_project_access",
					"as": "PERMISSIVE",
					"for": "SELECT",
					"to": ["authenticated"],
					"using": "(\n\t\t\t\t\"events\".\"user_id\" = auth.user_id()\n\t\t\t\tOR EXISTS (\n\t\t\t\t\tSELECT 1 FROM projects\n\t\t\t\t\tWHERE projects.id = \"events\".\"project_id\"\n\t\t\t\t)\n\t\t\t)"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.exported_indexes": {
			"name": "exported_indexes",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"project_id": {
					"name": "project_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"exported_by_user_id": {
					"name": "exported_by_user_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"format": {
					"name": "format",
					"type": "export_format",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true
				},
				"content": {
					"name": "content",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"metadata": {
					"name": "metadata",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {},
			"foreignKeys": {
				"exported_indexes_project_id_projects_id_fk": {
					"name": "exported_indexes_project_id_projects_id_fk",
					"tableFrom": "exported_indexes",
					"tableTo": "projects",
					"columnsFrom": ["project_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				},
				"exported_indexes_exported_by_user_id_users_id_fk": {
					"name": "exported_indexes_exported_by_user_id_users_id_fk",
					"tableFrom": "exported_indexes",
					"tableTo": "users",
					"columnsFrom": ["exported_by_user_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"exported_indexes_project_access": {
					"name": "exported_indexes_project_access",
					"as": "PERMISSIVE",
					"for": "ALL",
					"to": ["authenticated"],
					"using": "EXISTS (\n\t\t\t\tSELECT 1 FROM projects\n\t\t\t\tWHERE projects.id = \"exported_indexes\".\"project_id\"\n\t\t\t)"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.project_index_types": {
			"name": "project_index_types",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"project_id": {
					"name": "project_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"index_type": {
					"name": "index_type",
					"type": "index_type",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true
				},
				"color_hue": {
					"name": "color_hue",
					"type": "smallint",
					"primaryKey": false,
					"notNull": true
				},
				"is_visible": {
					"name": "is_visible",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": true
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"deleted_at": {
					"name": "deleted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				}
			},
			"indexes": {
				"unique_project_index_type": {
					"name": "unique_project_index_type",
					"columns": [
						{
							"expression": "project_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "index_type",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"where": "\"project_index_types\".\"deleted_at\" IS NULL",
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"project_index_types_project_id_projects_id_fk": {
					"name": "project_index_types_project_id_projects_id_fk",
					"tableFrom": "project_index_types",
					"tableTo": "projects",
					"columnsFrom": ["project_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"project_index_types_project_access": {
					"name": "project_index_types_project_access",
					"as": "PERMISSIVE",
					"for": "ALL",
					"to": ["authenticated"],
					"using": "EXISTS (\n\t\t\t\tSELECT 1 FROM projects\n\t\t\t\tWHERE projects.id = \"project_index_types\".\"project_id\"\n\t\t\t)"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.user_index_type_addons": {
			"name": "user_index_type_addons",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"user_id": {
					"name": "user_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"index_type": {
					"name": "index_type",
					"type": "index_type",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true
				},
				"granted_at": {
					"name": "granted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"expires_at": {
					"name": "expires_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				}
			},
			"indexes": {
				"unique_user_index_type": {
					"name": "unique_user_index_type",
					"columns": [
						{
							"expression": "user_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "index_type",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"user_index_type_addons_user_id_users_id_fk": {
					"name": "user_index_type_addons_user_id_users_id_fk",
					"tableFrom": "user_index_type_addons",
					"tableTo": "users",
					"columnsFrom": ["user_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"user_index_type_addons_own_access": {
					"name": "user_index_type_addons_own_access",
					"as": "PERMISSIVE",
					"for": "ALL",
					"to": ["authenticated"],
					"using": "\"user_index_type_addons\".\"user_id\" = auth.user_id()"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.index_entries": {
			"name": "index_entries",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"project_id": {
					"name": "project_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"project_index_type_id": {
					"name": "project_index_type_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"slug": {
					"name": "slug",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"label": {
					"name": "label",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"description": {
					"name": "description",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"status": {
					"name": "status",
					"type": "index_entry_status",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true,
					"default": "'active'"
				},
				"revision": {
					"name": "revision",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 1
				},
				"parent_id": {
					"name": "parent_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"deleted_at": {
					"name": "deleted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				}
			},
			"indexes": {
				"unique_project_index_type_slug": {
					"name": "unique_project_index_type_slug",
					"columns": [
						{
							"expression": "project_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "project_index_type_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "slug",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"index_entries_project_id_projects_id_fk": {
					"name": "index_entries_project_id_projects_id_fk",
					"tableFrom": "index_entries",
					"tableTo": "projects",
					"columnsFrom": ["project_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				},
				"index_entries_project_index_type_id_project_index_types_id_fk": {
					"name": "index_entries_project_index_type_id_project_index_types_id_fk",
					"tableFrom": "index_entries",
					"tableTo": "project_index_types",
					"columnsFrom": ["project_index_type_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"index_entries_project_access": {
					"name": "index_entries_project_access",
					"as": "PERMISSIVE",
					"for": "ALL",
					"to": ["authenticated"],
					"using": "EXISTS (\n\t\t\t\tSELECT 1 FROM projects\n\t\t\t\tWHERE projects.id = \"index_entries\".\"project_id\"\n\t\t\t)"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.index_mention_types": {
			"name": "index_mention_types",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"index_mention_id": {
					"name": "index_mention_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"project_index_type_id": {
					"name": "project_index_type_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"unique_mention_type": {
					"name": "unique_mention_type",
					"columns": [
						{
							"expression": "index_mention_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "project_index_type_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"index_mention_types_index_mention_id_index_mentions_id_fk": {
					"name": "index_mention_types_index_mention_id_index_mentions_id_fk",
					"tableFrom": "index_mention_types",
					"tableTo": "index_mentions",
					"columnsFrom": ["index_mention_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				},
				"index_mention_types_project_index_type_id_project_index_types_id_fk": {
					"name": "index_mention_types_project_index_type_id_project_index_types_id_fk",
					"tableFrom": "index_mention_types",
					"tableTo": "project_index_types",
					"columnsFrom": ["project_index_type_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"index_mention_types_mention_access": {
					"name": "index_mention_types_mention_access",
					"as": "PERMISSIVE",
					"for": "ALL",
					"to": ["authenticated"],
					"using": "EXISTS (\n\t\t\t\tSELECT 1 FROM index_mentions\n\t\t\t\tWHERE index_mentions.id = \"index_mention_types\".\"index_mention_id\"\n\t\t\t)"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.index_mentions": {
			"name": "index_mentions",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"entry_id": {
					"name": "entry_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"document_id": {
					"name": "document_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"page_id": {
					"name": "page_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": false
				},
				"page_number": {
					"name": "page_number",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"page_number_end": {
					"name": "page_number_end",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"text_span": {
					"name": "text_span",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"start_offset": {
					"name": "start_offset",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"end_offset": {
					"name": "end_offset",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"bboxes": {
					"name": "bboxes",
					"type": "json",
					"primaryKey": false,
					"notNull": false
				},
				"range_type": {
					"name": "range_type",
					"type": "mention_range_type",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true,
					"default": "'single_page'"
				},
				"mention_type": {
					"name": "mention_type",
					"type": "mention_type",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true,
					"default": "'text'"
				},
				"suggested_by_llm_id": {
					"name": "suggested_by_llm_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": false
				},
				"note": {
					"name": "note",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"revision": {
					"name": "revision",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 1
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"deleted_at": {
					"name": "deleted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"index_mentions_entry_id_index_entries_id_fk": {
					"name": "index_mentions_entry_id_index_entries_id_fk",
					"tableFrom": "index_mentions",
					"tableTo": "index_entries",
					"columnsFrom": ["entry_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				},
				"index_mentions_document_id_source_documents_id_fk": {
					"name": "index_mentions_document_id_source_documents_id_fk",
					"tableFrom": "index_mentions",
					"tableTo": "source_documents",
					"columnsFrom": ["document_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				},
				"index_mentions_page_id_document_pages_id_fk": {
					"name": "index_mentions_page_id_document_pages_id_fk",
					"tableFrom": "index_mentions",
					"tableTo": "document_pages",
					"columnsFrom": ["page_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"index_mentions_entry_access": {
					"name": "index_mentions_entry_access",
					"as": "PERMISSIVE",
					"for": "ALL",
					"to": ["authenticated"],
					"using": "EXISTS (\n\t\t\t\tSELECT 1 FROM index_entries\n\t\t\t\tWHERE index_entries.id = \"index_mentions\".\"entry_id\"\n\t\t\t)"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.index_relations": {
			"name": "index_relations",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"from_entry_id": {
					"name": "from_entry_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"to_entry_id": {
					"name": "to_entry_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"relation_type": {
					"name": "relation_type",
					"type": "relation_type",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true
				},
				"note": {
					"name": "note",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"revision": {
					"name": "revision",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 1
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				}
			},
			"indexes": {
				"unique_from_to_type": {
					"name": "unique_from_to_type",
					"columns": [
						{
							"expression": "from_entry_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "to_entry_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "relation_type",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"index_relations_from_entry_id_index_entries_id_fk": {
					"name": "index_relations_from_entry_id_index_entries_id_fk",
					"tableFrom": "index_relations",
					"tableTo": "index_entries",
					"columnsFrom": ["from_entry_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				},
				"index_relations_to_entry_id_index_entries_id_fk": {
					"name": "index_relations_to_entry_id_index_entries_id_fk",
					"tableFrom": "index_relations",
					"tableTo": "index_entries",
					"columnsFrom": ["to_entry_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"index_relations_entry_access": {
					"name": "index_relations_entry_access",
					"as": "PERMISSIVE",
					"for": "ALL",
					"to": ["authenticated"],
					"using": "EXISTS (\n\t\t\t\tSELECT 1 FROM index_entries\n\t\t\t\tWHERE index_entries.id = \"index_relations\".\"from_entry_id\"\n\t\t\t)"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.index_variants": {
			"name": "index_variants",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"entry_id": {
					"name": "entry_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"text": {
					"name": "text",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"variant_type": {
					"name": "variant_type",
					"type": "variant_type",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true,
					"default": "'alias'"
				},
				"revision": {
					"name": "revision",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 1
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				}
			},
			"indexes": {
				"unique_entry_text": {
					"name": "unique_entry_text",
					"columns": [
						{
							"expression": "entry_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "text",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"index_variants_entry_id_index_entries_id_fk": {
					"name": "index_variants_entry_id_index_entries_id_fk",
					"tableFrom": "index_variants",
					"tableTo": "index_entries",
					"columnsFrom": ["entry_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"index_variants_entry_access": {
					"name": "index_variants_entry_access",
					"as": "PERMISSIVE",
					"for": "ALL",
					"to": ["authenticated"],
					"using": "EXISTS (\n\t\t\t\tSELECT 1 FROM index_entries\n\t\t\t\tWHERE index_entries.id = \"index_variants\".\"entry_id\"\n\t\t\t)"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.llm_runs": {
			"name": "llm_runs",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"prompt_id": {
					"name": "prompt_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"document_id": {
					"name": "document_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": false
				},
				"executed_by_user_id": {
					"name": "executed_by_user_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"status": {
					"name": "status",
					"type": "llm_run_status",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true,
					"default": "'pending'"
				},
				"input_data": {
					"name": "input_data",
					"type": "json",
					"primaryKey": false,
					"notNull": false
				},
				"output_data": {
					"name": "output_data",
					"type": "json",
					"primaryKey": false,
					"notNull": false
				},
				"error_message": {
					"name": "error_message",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"token_count": {
					"name": "token_count",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"estimated_cost": {
					"name": "estimated_cost",
					"type": "bigint",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"started_at": {
					"name": "started_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"completed_at": {
					"name": "completed_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"llm_runs_prompt_id_prompts_id_fk": {
					"name": "llm_runs_prompt_id_prompts_id_fk",
					"tableFrom": "llm_runs",
					"tableTo": "prompts",
					"columnsFrom": ["prompt_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				},
				"llm_runs_document_id_source_documents_id_fk": {
					"name": "llm_runs_document_id_source_documents_id_fk",
					"tableFrom": "llm_runs",
					"tableTo": "source_documents",
					"columnsFrom": ["document_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				},
				"llm_runs_executed_by_user_id_users_id_fk": {
					"name": "llm_runs_executed_by_user_id_users_id_fk",
					"tableFrom": "llm_runs",
					"tableTo": "users",
					"columnsFrom": ["executed_by_user_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"llm_runs_user_or_document_access": {
					"name": "llm_runs_user_or_document_access",
					"as": "PERMISSIVE",
					"for": "ALL",
					"to": ["authenticated"],
					"using": "(\n\t\t\t\t\"llm_runs\".\"executed_by_user_id\" = auth.user_id()\n\t\t\t\tOR EXISTS (\n\t\t\t\t\tSELECT 1 FROM source_documents\n\t\t\t\t\tWHERE source_documents.id = \"llm_runs\".\"document_id\"\n\t\t\t\t)\n\t\t\t)"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.prompts": {
			"name": "prompts",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"name": {
					"name": "name",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"version": {
					"name": "version",
					"type": "integer",
					"primaryKey": false,
					"notNull": true
				},
				"template_text": {
					"name": "template_text",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"description": {
					"name": "description",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"unique_name_version": {
					"name": "unique_name_version",
					"columns": [
						{
							"expression": "name",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "version",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"prompts_select_authenticated": {
					"name": "prompts_select_authenticated",
					"as": "PERMISSIVE",
					"for": "SELECT",
					"to": ["authenticated"],
					"using": "true"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.projects": {
			"name": "projects",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"title": {
					"name": "title",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"description": {
					"name": "description",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"project_dir": {
					"name": "project_dir",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"owner_id": {
					"name": "owner_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"deleted_at": {
					"name": "deleted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				}
			},
			"indexes": {
				"unique_owner_dir": {
					"name": "unique_owner_dir",
					"columns": [
						{
							"expression": "owner_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "project_dir",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"where": "\"projects\".\"deleted_at\" IS NULL",
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"unique_owner_title": {
					"name": "unique_owner_title",
					"columns": [
						{
							"expression": "owner_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "title",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": true,
					"where": "\"projects\".\"deleted_at\" IS NULL",
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"projects_owner_id_users_id_fk": {
					"name": "projects_owner_id_users_id_fk",
					"tableFrom": "projects",
					"tableTo": "users",
					"columnsFrom": ["owner_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"projects_owner_full_access": {
					"name": "projects_owner_full_access",
					"as": "PERMISSIVE",
					"for": "ALL",
					"to": ["authenticated"],
					"using": "\"projects\".\"owner_id\" = auth.user_id()"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.users": {
			"name": "users",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"email": {
					"name": "email",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"password_hash": {
					"name": "password_hash",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"name": {
					"name": "name",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"deleted_at": {
					"name": "deleted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {
				"users_email_unique": {
					"name": "users_email_unique",
					"nullsNotDistinct": false,
					"columns": ["email"]
				}
			},
			"policies": {
				"users_select_all": {
					"name": "users_select_all",
					"as": "PERMISSIVE",
					"for": "SELECT",
					"to": ["public"],
					"using": "TRUE"
				},
				"users_insert_own": {
					"name": "users_insert_own",
					"as": "PERMISSIVE",
					"for": "INSERT",
					"to": ["authenticated"],
					"withCheck": "\"users\".\"id\" = auth.user_id()"
				},
				"users_update_own": {
					"name": "users_update_own",
					"as": "PERMISSIVE",
					"for": "UPDATE",
					"to": ["authenticated"],
					"using": "\"users\".\"id\" = auth.user_id()",
					"withCheck": "\"users\".\"id\" = auth.user_id()"
				},
				"users_delete_own": {
					"name": "users_delete_own",
					"as": "PERMISSIVE",
					"for": "DELETE",
					"to": ["authenticated"],
					"using": "\"users\".\"id\" = auth.user_id()"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		}
	},
	"enums": {
		"public.context_type": {
			"name": "context_type",
			"schema": "public",
			"values": ["ignore", "page_number"]
		},
		"public.entity_type": {
			"name": "entity_type",
			"schema": "public",
			"values": [
				"IndexEntry",
				"IndexMention",
				"SourceDocument",
				"DocumentPage",
				"LLMRun",
				"ExportedIndex",
				"Project"
			]
		},
		"public.export_format": {
			"name": "export_format",
			"schema": "public",
			"values": ["book_index", "json", "xml"]
		},
		"public.index_entry_status": {
			"name": "index_entry_status",
			"schema": "public",
			"values": ["suggested", "active", "deprecated", "merged"]
		},
		"public.index_type": {
			"name": "index_type",
			"schema": "public",
			"values": ["subject", "author", "scripture"]
		},
		"public.llm_run_status": {
			"name": "llm_run_status",
			"schema": "public",
			"values": ["pending", "running", "completed", "failed"]
		},
		"public.mention_range_type": {
			"name": "mention_range_type",
			"schema": "public",
			"values": ["single_page", "page_range", "passim"]
		},
		"public.mention_type": {
			"name": "mention_type",
			"schema": "public",
			"values": ["text", "region"]
		},
		"public.page_config_mode": {
			"name": "page_config_mode",
			"schema": "public",
			"values": ["this_page", "all_pages", "page_range", "custom"]
		},
		"public.relation_type": {
			"name": "relation_type",
			"schema": "public",
			"values": ["see", "see_also", "broader", "narrower", "related"]
		},
		"public.source_document_status": {
			"name": "source_document_status",
			"schema": "public",
			"values": ["uploaded", "processing", "processed", "failed"]
		},
		"public.variant_type": {
			"name": "variant_type",
			"schema": "public",
			"values": ["alias", "synonym", "abbreviation", "deprecated", "editorial"]
		}
	},
	"schemas": {},
	"sequences": {},
	"roles": {},
	"policies": {},
	"views": {},
	"_meta": {
		"columns": {},
		"schemas": {},
		"tables": {}
	}
}
